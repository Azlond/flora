{
    "article": {
        "primaryKey": [
            [
                "id"
            ]
        ],
        "dataSources": {
            "primary": {
                "type": "mysql",
                "database": "contents",
                "table": "article"
            },
            "articleBody": {
                "type": "mysql",
                "database": "contents",
                "table": "article_body"
            },
            "fulltextSearch": {
                "type": "solr",
                "core": "article",
                "searchable": "true"
            },
            "statistics": {
                "type": "mysql",
                "database": "contents",
                "query": "SELECT\n            articleId AS articleId,\n            COUNT(id) AS commentCount\n        FROM comments\n        GROUP BY articleId"
            }
        },
        "subFilters": [
            {
                "attribute": [
                    "categories",
                    "isImportant"
                ],
                "filter": [
                    "equal"
                ]
            }
        ],
        "attributes": {
            "id": {
                "type": "int",
                "map": {
                    "default": {
                        "primary": "id",
                        "articleBody": "articleId",
                        "fulltextSearch": "articleId",
                        "statistics": "articleId"
                    }
                },
                "filter": [
                    "equal"
                ]
            },
            "date": {
                "type": "datetime",
                "map": {
                    "default": {
                        "primary": "timestamp"
                    }
                },
                "filter": [
                    "greaterOrEqual",
                    "lessOrEqual"
                ],
                "order": [
                    "asc",
                    "desc"
                ]
            },
            "title": {
                "map": {
                    "default": {
                        "primary": "title"
                    }
                },
                "type": "string"
            },
            "subTitle": {
                "deprecated": true,
                "value": null,
                "type": "string"
            },
            "author": {
                "resource": "user",
                "parentKey": {
                    "primary": [
                        "authorId"
                    ]
                },
                "childKey": null
            },
            "categories": {
                "primaryKey": [
                    [
                        "id"
                    ]
                ],
                "parentKey": null,
                "childKey": null,
                "joinVia": "articleCategories",
                "many": true,
                "dataSources": {
                    "primary": {
                        "type": "mysql",
                        "database": "contents",
                        "table": "category"
                    },
                    "articleCategories": {
                        "type": "mysql",
                        "database": "contents",
                        "table": "article_category",
                        "joinParentKey": [
                            "articleId"
                        ],
                        "joinChildKey": [
                            "categoryId"
                        ]
                    }
                },
                "attributes": {
                    "id": {
                        "type": "int",
                        "map": {
                            "default": {
                                "primary": "id"
                            }
                        },
                        "filter": [
                            "equal"
                        ]
                    },
                    "name": {
                        "map": {
                            "default": {
                                "primary": "name"
                            }
                        },
                        "type": "string"
                    },
                    "isImportant": {
                        "type": "boolean",
                        "map": {
                            "default": {
                                "primary": "isImportant"
                            }
                        }
                    }
                },
                "resolvedPrimaryKey": {
                    "primary": [
                        "id"
                    ]
                }
            },
            "countries": {
                "primaryKey": [
                    [
                        "id"
                    ]
                ],
                "parentKey": {
                    "primary": [
                        "countries"
                    ]
                },
                "delimiter": ",",
                "childKey": {
                    "primary": [
                        "iso"
                    ]
                },
                "many": true,
                "dataSources": {
                    "primary": {
                        "type": "mysql",
                        "database": "contents",
                        "table": "country"
                    }
                },
                "attributes": {
                    "id": {
                        "type": "int",
                        "map": {
                            "default": {
                                "primary": "id"
                            }
                        },
                        "filter": [
                            "equal"
                        ]
                    },
                    "name": {
                        "map": {
                            "default": {
                                "primary": "name"
                            }
                        },
                        "type": "string"
                    },
                    "iso": {
                        "map": {
                            "default": {
                                "primary": "iso"
                            }
                        },
                        "type": "string"
                    },
                    "iso3": {
                        "map": {
                            "default": {
                                "primary": "iso3"
                            }
                        },
                        "type": "string"
                    }
                },
                "resolvedPrimaryKey": {
                    "primary": [
                        "id"
                    ]
                }
            },
            "body": {
                "map": {
                    "default": {
                        "articleBody": "body"
                    }
                },
                "type": "string"
            },
            "video": {
                "parentKey": null,
                "childKey": {
                    "primary": [
                        "articleId"
                    ]
                },
                "dataSources": {
                    "primary": {
                        "type": "mysql",
                        "database": "contents",
                        "table": "article_video"
                    }
                },
                "attributes": {
                    "url": {
                        "map": {
                            "default": {
                                "primary": "url"
                            }
                        },
                        "type": "string"
                    },
                    "previewImage": {
                        "map": {
                            "default": {
                                "primary": "previewImage"
                            }
                        },
                        "type": "string"
                    }
                }
            },
            "source": {
                "attributes": {
                    "name": {
                        "map": {
                            "default": {
                                "primary": "sourceName"
                            }
                        },
                        "type": "string"
                    },
                    "externalId": {
                        "map": {
                            "default": {
                                "primary": "externalId"
                            }
                        },
                        "type": "string"
                    },
                    "externalUrl": {
                        "map": {
                            "default": {
                                "primary": "externalUrl"
                            }
                        },
                        "type": "string"
                    }
                }
            },
            "copyright": {
                "depends": {
                    "MOCK": "Select AST of 'author[firstname,lastname],categories.name,secretInfo'"
                },
                "value": "",
                "type": "string"
            },
            "secretInfo": {
                "internal": true,
                "map": {
                    "default": {
                        "primary": "secretInfo"
                    }
                },
                "type": "string"
            },
            "commentCount": {
                "map": {
                    "default": {
                        "statistics": "commentCount"
                    }
                },
                "type": "string"
            },
            "comments": {
                "primaryKey": [
                    [
                        "id"
                    ]
                ],
                "parentKey": null,
                "childKey": {
                    "primary": [
                        "articleId"
                    ]
                },
                "many": true,
                "dataSources": {
                    "primary": {
                        "type": "mysql",
                        "database": "contents",
                        "table": "article_comment"
                    },
                    "likes": {
                        "type": "mysql",
                        "database": "contents",
                        "table": "comment_likes"
                    }
                },
                "attributes": {
                    "id": {
                        "type": "int",
                        "map": {
                            "default": {
                                "primary": "id",
                                "likes": "commentId"
                            }
                        },
                        "filter": [
                            "equal"
                        ]
                    },
                    "user": {
                        "resource": "user",
                        "parentKey": {
                            "primary": [
                                "userId"
                            ]
                        },
                        "childKey": null
                    },
                    "content": {
                        "map": {
                            "default": {
                                "primary": "content"
                            }
                        },
                        "type": "string"
                    },
                    "likes": {
                        "type": "int",
                        "map": {
                            "default": {
                                "likes": "count"
                            }
                        }
                    }
                },
                "resolvedPrimaryKey": {
                    "primary": [
                        "id"
                    ],
                    "likes": [
                        "commentId"
                    ]
                }
            }
        },
        "resolvedPrimaryKey": {
            "primary": [
                "id"
            ],
            "articleBody": [
                "articleId"
            ],
            "fulltextSearch": [
                "articleId"
            ],
            "statistics": [
                "articleId"
            ]
        }
    },
    "user": {
        "primaryKey": [
            [
                "id"
            ]
        ],
        "dataSources": {
            "primary": {
                "type": "mysql",
                "database": "contents",
                "table": "user"
            }
        },
        "attributes": {
            "id": {
                "type": "int",
                "map": {
                    "default": {
                        "primary": "id"
                    }
                },
                "filter": [
                    "equal"
                ]
            },
            "firstname": {
                "map": {
                    "default": {
                        "primary": "firstname"
                    }
                },
                "type": "string"
            },
            "lastname": {
                "map": {
                    "default": {
                        "primary": "lastname"
                    }
                },
                "type": "string"
            }
        },
        "resolvedPrimaryKey": {
            "primary": [
                "id"
            ]
        }
    }
}
